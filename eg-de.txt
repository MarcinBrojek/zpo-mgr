@syntax(sp){sp: e | t}

@syntax(n){n: I}
@syntax(x){x: ID}

@syntax(t){t: "unit" | "int" | t /->/ t}

@syntax(e4){e.4: n}
@syntax(e3){e.3: x}
@syntax(e2){e.2: e "(" e ")"}
@syntax(e1){e.1: e "+" e}
@syntax(e0){e.0: "lam" x ":" t "." e "mal"}

lookup(+@s, +"@x", -"@e")`
    return s[0][x]
`

savein(+@s_1, +"@x", +"@e", -@s_2)`
    s_1[0][x] = e
    return s_1
`

lookuptype(+@G, +"@x", -"@t")`
    return G[x]
`

saveintype(+@G_1, +"@x", +"@t", -@G_2)`
    G_1[x]=t    
    return G_1
`